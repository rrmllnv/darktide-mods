# –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ PerspectivesRedux

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–æ–¥–∞ –∏ –∏—Ö –≤–ª–∏—è–Ω–∏—è –Ω–∞ –∫–æ–¥.

---

## üîÑ –ß—Ç–æ —Ç–∞–∫–æ–µ "—Ü–∏–∫–ª" –∫–∞–º–µ—Ä—ã?

–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Å–ª–æ–≤–æ **"—Ü–∏–∫–ª"** - —ç—Ç–æ –ù–ï –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π —Ü–∏–∫–ª, –∞ **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–π –∫–∞–º–µ—Ä—ã**, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –ø–æ –∫—Ä—É–≥—É –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à–∏.

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –∫–∞–º–µ—Ä–∞ –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ **3 –ø–æ–∑–∏—Ü–∏—è—Ö** –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:

```
     [–ü–ï–†–°–û–ù–ê–ñ]
         |
    [C]‚îÄ[–ü]‚îÄ[L]
         R

R = Right (–ø—Ä–∞–≤–æ–µ –ø–ª–µ—á–æ)
L = Left (–ª–µ–≤–æ–µ –ø–ª–µ—á–æ) 
C = Center (—Ü–µ–Ω—Ç—Ä)
–ü = –ü–µ—Ä—Å–æ–Ω–∞–∂
```

**"–¶–∏–∫–ª"** - —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –¶–∏–∫–ª –ë–ï–ó —Ü–µ–Ω—Ç—Ä–∞ (`cycle_includes_center = false`)
```
Right ‚Üí Left ‚Üí Right ‚Üí Left ‚Üí ...
  ‚Üë       ‚Üì
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
–ù–∞–∂–∏–º–∞–µ–º –∫–ª–∞–≤–∏—à—É ‚Üí –ö–∞–º–µ—Ä–∞ –ø—Ä—ã–≥–∞–µ—Ç: **–ü—Ä–∞–≤–æ–µ –ø–ª–µ—á–æ ‚Üí –õ–µ–≤–æ–µ –ø–ª–µ—á–æ ‚Üí –ü—Ä–∞–≤–æ–µ –ø–ª–µ—á–æ**

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –¶–∏–∫–ª –° —Ü–µ–Ω—Ç—Ä–æ–º (`cycle_includes_center = true`)
```
Right ‚Üí Left ‚Üí Center ‚Üí Right ‚Üí ...
  ‚Üë      ‚Üì       ‚Üì        ‚Üë
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
–ù–∞–∂–∏–º–∞–µ–º –∫–ª–∞–≤–∏—à—É ‚Üí –ö–∞–º–µ—Ä–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏: **–ü—Ä–∞–≤–æ–µ ‚Üí –õ–µ–≤–æ–µ ‚Üí –¶–µ–Ω—Ç—Ä ‚Üí –ü—Ä–∞–≤–æ–µ**

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∏–≥—Ä–µ?

1. **–ù–∞–∑–Ω–∞—á–∞–µ—Ç–µ –∫–ª–∞–≤–∏—à—É** `cycle_shoulder` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `X`)
2. **–ù–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ —Ç—Ä–µ—Ç—å–µ–º –ª–∏—Ü–µ**
3. **–ù–∞–∂–∏–º–∞–µ—Ç–µ `X`** ‚Üí –∫–∞–º–µ—Ä–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –ø–æ–∑–∏—Ü–∏—é –≤ —Ü–∏–∫–ª–µ
4. **–ù–∞–∂–∏–º–∞–µ—Ç–µ —Å–Ω–æ–≤–∞** ‚Üí —Å–ª–µ–¥—É—é—â–∞—è –ø–æ–∑–∏—Ü–∏—è
5. **–ò —Ç–∞–∫ –ø–æ –∫—Ä—É–≥—É** (—Ü–∏–∫–ª)

### –ü—Ä–∏–º–µ—Ä –≤ –±–æ—é:

```
–°–∏—Ç—É–∞—Ü–∏—è: –í—Ä–∞–≥ —Å–ø—Ä–∞–≤–∞ –æ—Ç –≤–∞—Å –∑–∞–≥–æ—Ä–∞–∂–∏–≤–∞–µ—Ç –æ–±–∑–æ—Ä

1. –°–µ–π—á–∞—Å –∫–∞–º–µ—Ä–∞ –∑–∞ –ø—Ä–∞–≤—ã–º –ø–ª–µ—á–æ–º (Right)
   [–í–†–ê–ì] [–í–´] [–ö–ê–ú–ï–†–ê-R]
   ‚ùå –í—Ä–∞–≥ –∑–∞–≥–æ—Ä–∞–∂–∏–≤–∞–µ—Ç –æ–±–∑–æ—Ä!

2. –ù–∞–∂–∏–º–∞–µ–º cycle_shoulder (X)
   [–í–†–ê–ì] [–í–´] [–ö–ê–ú–ï–†–ê-L]
           ‚Üë
   ‚úÖ –¢–µ–ø–µ—Ä—å –∫–∞–º–µ—Ä–∞ –∑–∞ –ª–µ–≤—ã–º –ø–ª–µ—á–æ–º - –≤—Ä–∞–≥ –≤–∏–¥–µ–Ω!

3. –í—Ä–∞–≥ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è –≤–ª–µ–≤–æ? –ù–∞–∂–∏–º–∞–µ–º —Å–Ω–æ–≤–∞!
   [–ö–ê–ú–ï–†–ê-R] [–í–´] [–í–†–ê–ì]
   ‚úÖ –°–Ω–æ–≤–∞ —Ö–æ—Ä–æ—à–∏–π –æ–±–∑–æ—Ä
```

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã —Ü–∏–∫–ª–∞

#### –†–µ–∂–∏–º "Cycle" (–¶–∏–∫–ª):
- –ö–∞–º–µ—Ä–∞ **–∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç** —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –≤ —Ü–∏–∫–ª–µ
- –ö–∞–∂–¥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ `cycle_shoulder` ‚Üí —Å–ª–µ–¥—É—é—â–∞—è –ø–æ–∑–∏—Ü–∏—è
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏** –∏–∑–º–µ–Ω—è–µ—Ç—Å—è

```lua
-- –í –∫–æ–¥–µ —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è:
current_viewpoint = "pspv_right"  -- —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è

-- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à–∏:
current_viewpoint = _get_next_viewpoint(current_viewpoint)
-- "pspv_right" ‚Üí "pspv_left" ‚Üí "pspv_center"* ‚Üí "pspv_right"
```

#### –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã (Right/Left/Center):
- –ö–∞–º–µ—Ä–∞ **–≤—Å–µ–≥–¥–∞** –≤ –æ–¥–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
- –ö–ª–∞–≤–∏—à–∞ `cycle_shoulder` —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –æ—Ä—É–∂–∏—è/–ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è** –∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ —Ü–∏–∫–ª

#### `aim_mode = Cycle` (0)
–ü—Ä–∏ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –∏–∑ —Ü–∏–∫–ª–∞**:
- –ï—Å–ª–∏ —Å–µ–π—á–∞—Å `Right` ‚Üí –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–µ —Å –ø—Ä–∞–≤–æ–≥–æ –ø–ª–µ—á–∞
- –ü–µ—Ä–µ–∫–ª—é—á–∏–ª–∏ –Ω–∞ `Left` ‚Üí –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–µ —Å –ª–µ–≤–æ–≥–æ –ø–ª–µ—á–∞

#### `nonaim_mode = Cycle` (0)
–í –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –∏–∑ —Ü–∏–∫–ª–∞**:
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ `cycle_shoulder`

#### `aim_mode = Right/Left/Center` (1/2/3)
–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è - **–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç** —Ü–∏–∫–ª:
- –í—Å–µ–≥–¥–∞ –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –ø–æ–∑–∏—Ü–∏—è –ø—Ä–∏ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–∏
- –î–∞–∂–µ –µ—Å–ª–∏ –≤ —Ü–∏–∫–ª–µ –≤—ã –Ω–∞ –ª–µ–≤–æ–º –ø–ª–µ—á–µ, –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç —Å–ø—Ä–∞–≤–∞

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∞:** –•–æ—á—É –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –ø–ª–µ—á–æ, –Ω–æ –ø—Ä–∏ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–∏ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–æ–µ –ø–ª–µ—á–æ.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
```
nonaim_mode = Cycle             // –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ - –¥–∏–Ω–∞–º–∏—á–Ω–æ
aim_mode = Right                // –ø—Ä–∏ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–∏ - –≤—Å–µ–≥–¥–∞ —Å–ø—Ä–∞–≤–∞
cycle_includes_center = false   // —Ç–æ–ª—å–∫–æ 2 –ø–æ–∑–∏—Ü–∏–∏: –ø—Ä–∞–≤–æ/–ª–µ–≤–æ
cycle_shoulder = X              // –∫–ª–∞–≤–∏—à–∞ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∏–≥—Ä–µ:**
1. –ë–µ–≥–∞–µ–º, —Å—Ç—Ä–µ–ª—è–µ–º –æ—Ç –±–µ–¥—Ä–∞ ‚Üí –Ω–∞–∂–∏–º–∞–µ–º `X` ‚Üí –∫–∞–º–µ—Ä–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è Left‚ÜîRight
2. –ü—Ä–∏—Ü–µ–ª–∏–º—Å—è (–ü–ö–ú) ‚Üí **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –ø—Ä–∞–≤–æ–µ –ø–ª–µ—á–æ (–∏–≥–Ω–æ—Ä–∏—Ä—É—è —Ü–∏–∫–ª)
3. –û—Ç–ø—É—Å–∫–∞–µ–º –ü–ö–ú ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø–æ–∑–∏—Ü–∏–∏ –∏–∑ —Ü–∏–∫–ª–∞ (–≥–¥–µ –±—ã–ª–∏)

### –í —á—ë–º –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–¥–∞ (1P/3P)?

**–≠—Ç–æ —Ä–∞–∑–Ω—ã–µ –≤–µ—â–∏!**

| | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∞ (1P/3P) | –¶–∏–∫–ª –ø–ª–µ—á–∞ |
|---|---|---|
| **–ö–ª–∞–≤–∏—à–∞** | `third_person_toggle` | `cycle_shoulder` |
| **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç** | –ü–µ—Ä–≤–æ–µ –ª–∏—Ü–æ ‚Üî –¢—Ä–µ—Ç—å–µ –ª–∏—Ü–æ | –ü—Ä–∞–≤–æ–µ ‚Üî –õ–µ–≤–æ–µ ‚Üî –¶–µ–Ω—Ç—Ä* |
| **–ö–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç** | –í—Å–µ–≥–¥–∞ | –¢–æ–ª—å–∫–æ –≤ —Ç—Ä–µ—Ç—å–µ–º –ª–∏—Ü–µ |
| **–ü—Ä–∏–º–µ—Ä** | –ö–∞–∫ –≤ GTA V (C) | –ö–∞–∫ –≤ The Last of Us |

### –ò—Ç–æ–≥–æ:

**"–¶–∏–∫–ª"** = –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–π –∫–∞–º–µ—Ä—ã (Right ‚Üí Left ‚Üí Center*), –∫–æ—Ç–æ—Ä–∞—è **–ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ –∫—Ä—É–≥—É** –∫–ª–∞–≤–∏—à–µ–π `cycle_shoulder`.

–†–µ–∂–∏–º **"Cycle"** –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö = –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –∏–∑ —ç—Ç–æ–≥–æ —Ü–∏–∫–ª–∞** (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–æ–∑–∏—Ü–∏—è).

–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã (Right/Left/Center) = **–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å** —Ü–∏–∫–ª, –≤—Å–µ–≥–¥–∞ –æ–¥–Ω–∞ –ø–æ–∑–∏—Ü–∏—è.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### `allow_switching` (checkbox)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `true`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ì–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –º–æ–¥–∞. –†–∞–∑—Ä–µ—à–∞–µ—Ç –∏–ª–∏ –∑–∞–ø—Ä–µ—â–∞–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∏–¥–∞–º–∏.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –û–±—Ä–∞–±–æ—Ç—á–∏–∫: mod.on_setting_changed("allow_switching")
mod.disable_3p_due_to("_mod", not val)
```
- –ï—Å–ª–∏ `false` - –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–∏—á–∏–Ω—É `"_mod"` –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è 3P —Ä–µ–∂–∏–º–∞
- –ï—Å–ª–∏ `true` - —É–¥–∞–ª—è–µ—Ç —ç—Ç—É –ø—Ä–∏—á–∏–Ω—É, —Ä–∞–∑—Ä–µ—à–∞—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π `mod.is_requesting_third_person()`

---

## –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

### `third_person_toggle` (keybind)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞  
**–¢–∏–ø:** `pressed` (–Ω–∞–∂–∞—Ç–∏–µ)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –º–µ–∂–¥—É –≤–∏–¥–æ–º –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –∏ —Ç—Ä–µ—Ç—å–µ–≥–æ –ª–∏—Ü–∞.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –í—ã–∑—ã–≤–∞–µ—Ç: mod.kb_toggle_third_person()
-- –ö–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç: mod.toggle_third_person()
local prev = mod.is_requesting_third_person()
mod.clear_reason("slot")
mod.clear_reason("spectate")

if prev == mod.is_requesting_third_person() then
    mod.enable_3p_due_to("_base", not prev)
end
```
- –û—á–∏—â–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã (`slot`, `spectate`)
- –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –±–∞–∑–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ 3P —Ä–µ–∂–∏–º–∞ —á–µ—Ä–µ–∑ `"_base"` reason
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∫—É—Ä—Å–æ—Ä –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω

### `third_person_held` (keybind)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞  
**–¢–∏–ø:** `held` (—É–¥–µ—Ä–∂–∞–Ω–∏–µ)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤–∏–¥ –Ω–∞ –≤—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è –∫–ª–∞–≤–∏—à–∏.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏—é `mod.kb_toggle_third_person()`
- –ó–∞ —Å—á—ë—Ç —Ç–∏–ø–∞ `held` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏ –æ—Ç–ø—É—Å–∫–∞–Ω–∏–∏

### `cycle_shoulder` (keybind)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞  
**–¢–∏–ø:** `pressed`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –∫–∞–º–µ—Ä—ã –º–µ–∂–¥—É –ø–ª–µ—á–∞–º–∏ –ø–æ –∫—Ä—É–≥—É.

> üí° **–°–º. –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ** –≤ —Ä–∞–∑–¥–µ–ª–µ ["–ß—Ç–æ —Ç–∞–∫–æ–µ —Ü–∏–∫–ª –∫–∞–º–µ—Ä—ã?"](#-—á—Ç–æ-—Ç–∞–∫–æ–µ-—Ü–∏–∫–ª-–∫–∞–º–µ—Ä—ã) –≤—ã—à–µ

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –í—ã–∑—ã–≤–∞–µ—Ç: mod.kb_cycle_shoulder()
current_viewpoint = _get_next_viewpoint(current_viewpoint)
aim_node = _get_aim_node()
nonaim_node = _get_nonaim_node()

-- –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:
if previous == "pspv_right" then
    return "pspv_left"  -- –ü—Ä–∞–≤–æ–µ ‚Üí –õ–µ–≤–æ–µ
end
if previous == "pspv_left" and cached_settings.cycle_includes_center then
    return "pspv_center"  -- –õ–µ–≤–æ–µ ‚Üí –¶–µ–Ω—Ç—Ä (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
end
return "pspv_right"  -- –¶–µ–Ω—Ç—Ä (–∏–ª–∏ –õ–µ–≤–æ–µ) ‚Üí –ü—Ä–∞–≤–æ–µ
```

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:**
- –ï—Å–ª–∏ `cycle_includes_center = false`: **Right ‚Üí Left ‚Üí Right ‚Üí ...**
- –ï—Å–ª–∏ `cycle_includes_center = true`: **Right ‚Üí Left ‚Üí Center ‚Üí Right ‚Üí ...**

**–í–∞–∂–Ω–æ:** 
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ —Ç—Ä–µ—Ç—å–µ–≥–æ –ª–∏—Ü–∞
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `current_viewpoint`
- –í–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∂–∏–º—ã `aim_mode = Cycle` –∏ `nonaim_mode = Cycle`

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞

### `perspective_transition_time` (numeric)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0.1`  
**–î–∏–∞–ø–∞–∑–æ–Ω:** `0.0 - 1.0`  
**–¢–æ—á–Ω–æ—Å—Ç—å:** 2 –∑–Ω–∞–∫–∞

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É –≤–∏–¥–∞–º–∏ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–µ—Ä—ã:
CameraTransitionTemplates.to_third_person.position.duration = val
CameraTransitionTemplates.to_first_person.position.duration = val

-- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è:
original_transition_duration.to_third_person = <original_value>
original_transition_duration.to_first_person = <original_value>

-- –ü—Ä–∏ –≤—ã–≥—Ä—É–∑–∫–µ –º–æ–¥–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è:
-- mod.on_unload() -> –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
```
- `0.0` = –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
- `1.0` = –º–µ–¥–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ (1 —Å–µ–∫—É–Ω–¥–∞)
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –æ–±–æ–∏–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º –ø–µ—Ä–µ—Ö–æ–¥–∞

---

## –†–µ–∂–∏–º –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### `default_perspective_mode` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (Normal)

**–û–ø—Ü–∏–∏:**
- `0` - **Normal**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–≥—Ä—ã
- `-1` - **Swapped**: –ò–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–≥—Ä—ã
- `1` - **Always First Person**: –í—Å–µ–≥–¥–∞ –ø–µ—Ä–≤–æ–µ –ª–∏—Ü–æ
- `2` - **Always Third Person**: –í—Å–µ–≥–¥–∞ —Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –•—É–∫: MissionManager.force_third_person_mode
local request_3p = func(self) -- –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç –∏–∑ –∏–≥—Ä—ã

if mode == -1 then
    request_3p = not request_3p  -- –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
elseif mode == 1 then
    request_3p = false  -- –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ 1P
elseif mode == 2 then
    request_3p = true   -- –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ 3P
end

mod.enable_3p_due_to("_base", request_3p)
```
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–≥—Ä—ã –Ω–∞ —Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ `"_base"` reason
- –í–ª–∏—è–µ—Ç –Ω–∞ –≤—Å–µ –º–∏—Å—Å–∏–∏, –∫—Ä–æ–º–µ —Ö–∞–±–∞ (—Ö–∞–± –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É)

---

## –ì—Ä—É–ø–ø–∞: –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Ç—Ä–µ—Ç—å–µ–º –ª–∏—Ü–µ

> **üìå –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ:** –í —ç—Ç–∏—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Ä–µ–∂–∏–º **"Cycle"** (—Ü–∏–∫–ª) - —ç—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–æ–∑–∏—Ü–∏—è –∫–∞–º–µ—Ä—ã, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –∫–ª–∞–≤–∏—à–µ–π `cycle_shoulder`. –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ["–ß—Ç–æ —Ç–∞–∫–æ–µ —Ü–∏–∫–ª –∫–∞–º–µ—Ä—ã?"](#-—á—Ç–æ-—Ç–∞–∫–æ–µ-—Ü–∏–∫–ª-–∫–∞–º–µ—Ä—ã)

### `aim_mode` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (Cycle)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞–∫—É—é –ø–æ–∑–∏—Ü–∏—é –∫–∞–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–∏ (–∑–∞–∂–∞—Ç–∏–µ –ü–ö–ú/ADS).

> üí° –†–µ–∂–∏–º **"Cycle"** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –∏–∑ —Ü–∏–∫–ª–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–ª–µ—á. –°–º. —Ä–∞–∑–¥–µ–ª ["–ß—Ç–æ —Ç–∞–∫–æ–µ —Ü–∏–∫–ª –∫–∞–º–µ—Ä—ã?"](#-—á—Ç–æ-—Ç–∞–∫–æ–µ-—Ü–∏–∫–ª-–∫–∞–º–µ—Ä—ã)

**–û–ø—Ü–∏–∏:**
- `-1` - **1st Person**: –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ –ø–µ—Ä–≤–æ–µ –ª–∏—Ü–æ –ø—Ä–∏ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–∏
- `0` - **Cycle**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –∏–∑ —Ü–∏–∫–ª–∞ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è)
- `1` - **Center**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
- `2` - **Right**: –ü—Ä–∞–≤–æ–µ –ø–ª–µ—á–æ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
- `3` - **Left**: –õ–µ–≤–æ–µ –ø–ª–µ—á–æ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –ö—ç—à–∏—Ä—É–µ—Ç—Å—è –≤: cached_settings.aim_selection = val
-- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: _get_aim_node()
local _get_aim_node = function()
    return _idx_to_viewpoint(cached_settings.aim_selection) .. ZOOM_SUFFIX
end

-- –ü—Ä–∏ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–∏:
if alternate_fire_is_active then
    node = aim_node  -- "pspv_center_zoom", "pspv_right_zoom", etc.
end

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ 1P:
local _should_aim_to_1p = function(is_aiming, is_ogryn)
    if cached_settings.aim_selection == -1 then
        return true  -- –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ 1P
    end
    -- ... –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
end

mod.disable_3p_due_to("aim", _should_aim_to_1p(alternate_fire_is_active, is_ogryn))
```
- `-1`: –î–æ–±–∞–≤–ª—è–µ—Ç `"aim"` reason –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è 3P
- `0`: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `current_viewpoint` (—Ç–µ–∫—É—â–µ–µ –ø–ª–µ—á–æ –∏–∑ —Ü–∏–∫–ª–∞)
- `1-3`: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ü–∏–∫–ª–∞
- –î–æ–±–∞–≤–ª—è–µ—Ç —Å—É—Ñ—Ñ–∏–∫—Å `_zoom` –∫ –Ω–æ–¥–µ

### `nonaim_mode` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (Cycle)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞–∫—É—é –ø–æ–∑–∏—Ü–∏—é –∫–∞–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ (–±–µ–∑ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è).

> üí° –†–µ–∂–∏–º **"Cycle"** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –∏–∑ —Ü–∏–∫–ª–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–ª–µ—á. –°–º. —Ä–∞–∑–¥–µ–ª ["–ß—Ç–æ —Ç–∞–∫–æ–µ —Ü–∏–∫–ª –∫–∞–º–µ—Ä—ã?"](#-—á—Ç–æ-—Ç–∞–∫–æ–µ-—Ü–∏–∫–ª-–∫–∞–º–µ—Ä—ã)

**–û–ø—Ü–∏–∏:**
- `0` - **Cycle**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –∏–∑ —Ü–∏–∫–ª–∞ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è, –º–µ–Ω—è–µ—Ç—Å—è –∫–ª–∞–≤–∏—à–µ–π `cycle_shoulder`)
- `1` - **Center**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
- `2` - **Right**: –ü—Ä–∞–≤–æ–µ –ø–ª–µ—á–æ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
- `3` - **Left**: –õ–µ–≤–æ–µ –ø–ª–µ—á–æ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –ö—ç—à–∏—Ä—É–µ—Ç—Å—è –≤: cached_settings.nonaim_selection = val
-- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: _get_nonaim_node()
local _get_nonaim_node = function()
    return _idx_to_viewpoint(cached_settings.nonaim_selection)
end

-- –í –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ (–Ω–µ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–µ):
if mod.is_requesting_third_person() then
    if use_3p_freelook_node then
        node = "pspv_lookaround"
    elseif alternate_fire_is_active then
        node = aim_node
    else
        node = nonaim_node  -- "pspv_center", "pspv_right", "pspv_left"
    end
    
    if is_ogryn then
        node = node .. "_ogryn"  -- –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—É—Ñ—Ñ–∏–∫—Å –¥–ª—è –æ–≥—Ä–∏–Ω–∞
    end
end
```
- `0`: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–æ–∑–∏—Ü–∏—è, –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `cycle_shoulder`
- `1-3`: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –∫–∞–º–µ—Ä—ã
- –î–ª—è –æ–≥—Ä–∏–Ω–æ–≤ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å—É—Ñ—Ñ–∏–∫—Å `_ogryn`

### `cycle_includes_center` (checkbox)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `false`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–∫–ª—é—á–∞—Ç—å –ª–∏ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–ª–µ—á.

> üí° –ò–∑–º–µ–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Ü–∏–∫–ª–µ. –°–º. —Ä–∞–∑–¥–µ–ª ["–ß—Ç–æ —Ç–∞–∫–æ–µ —Ü–∏–∫–ª –∫–∞–º–µ—Ä—ã?"](#-—á—Ç–æ-—Ç–∞–∫–æ–µ-—Ü–∏–∫–ª-–∫–∞–º–µ—Ä—ã)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –ö—ç—à–∏—Ä—É–µ—Ç—Å—è –≤: cached_settings.cycle_includes_center = val
-- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: _get_next_viewpoint()
if previous == "pspv_left" and cached_settings.cycle_includes_center then
    return "pspv_center"  // –¥–æ–±–∞–≤–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
end
```

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:**
- `false`: **Right ‚Üí Left ‚Üí Right ‚Üí Left** (2 –ø–æ–∑–∏—Ü–∏–∏, –±—ã—Å—Ç—Ä–µ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ)
- `true`: **Right ‚Üí Left ‚Üí Center ‚Üí Right ‚Üí Left** (3 –ø–æ–∑–∏—Ü–∏–∏, –±–æ–ª—å—à–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)

**–í–ª–∏—è–Ω–∏–µ:**
- –ö–ª–∞–≤–∏—à–∞ `cycle_shoulder` –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä
- –†–µ–∂–∏–º—ã `aim_mode = Cycle` –∏ `nonaim_mode = Cycle` –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
- –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã (Right/Left/Center)

### `center_to_1p_human` (checkbox)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `false`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ –ø–µ—Ä–≤–æ–µ –ª–∏—Ü–æ –¥–ª—è –ª—é–¥–µ–π –ø—Ä–∏ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∫–∞–º–µ—Ä–µ –≤–æ –≤—Ä–µ–º—è –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –ö—ç—à–∏—Ä—É–µ—Ç—Å—è –≤: cached_settings.center_to_1p_human = val
-- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: _should_aim_to_1p()
if cached_settings.aim_selection == 0 and current_viewpoint == "pspv_center" then
    if is_ogryn then
        return cached_settings.center_to_1p_ogryn
    end
    return cached_settings.center_to_1p_human
end
```
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ `aim_mode = Cycle` –∏ —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è `center`
- –ï—Å–ª–∏ `true` - –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ 1P –ø—Ä–∏ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–∏
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π (–Ω–µ –æ–≥—Ä–∏–Ω)

### `center_to_1p_ogryn` (checkbox)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `true`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ –ø–µ—Ä–≤–æ–µ –ª–∏—Ü–æ –¥–ª—è –æ–≥—Ä–∏–Ω–æ–≤ –ø—Ä–∏ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∫–∞–º–µ—Ä–µ –≤–æ –≤—Ä–µ–º—è –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ center_to_1p_human, –Ω–æ –¥–ª—è –æ–≥—Ä–∏–Ω–æ–≤
if is_ogryn then
    return cached_settings.center_to_1p_ogryn
end
```
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –æ–≥—Ä–∏–Ω–∞–º
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `true` –∏–∑-–∑–∞ –±–æ–ª—å—à–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –æ–≥—Ä–∏–Ω–æ–≤

### `xhair_fallback` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `assault`

**–û–ø—Ü–∏–∏:** (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç `mod._xhair_types`)
- `assault`, `bfg`, `charge_up`, `dot`, `ironsight`, `none`, `spray_n_pray` –∏ –¥—Ä.

**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∑–µ—Ä–≤–Ω—ã–π –ø—Ä–∏—Ü–µ–ª –¥–ª—è –æ—Ä—É–∂–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∏—Ü–µ–ª–∞ –≤ —Ç—Ä–µ—Ç—å–µ–º –ª–∏—Ü–µ.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –ö—ç—à–∏—Ä—É–µ—Ç—Å—è –≤: cached_settings.xhair_fallback = val
-- –•—É–∫: HudElementCrosshair._get_current_crosshair_type
if cached_settings.xhair_fallback ~= "none" and 
   (type == "none" or type == "ironsight") and 
   not is_in_hub and 
   mod.is_requesting_third_person() then
    return cached_settings.xhair_fallback
end
```
- –ó–∞–º–µ–Ω—è–µ—Ç `none` –∏–ª–∏ `ironsight` –ø—Ä–∏—Ü–µ–ª—ã –≤ 3P —Ä–µ–∂–∏–º–µ
- –ù–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ —Ö–∞–±–µ
- `none` = –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fallback

### `use_lookaround_node` (checkbox)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `true`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –Ω–æ–¥—É –∫–∞–º–µ—Ä—ã –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –º–æ–¥–∞ LookAround.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –ö—ç—à–∏—Ä—É–µ—Ç—Å—è –≤: cached_settings.use_lookaround_node = val
-- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–¥–æ–º LookAround:
local lookaround_mod = get_mod("LookAround")
if lookaround_mod then
    mod:hook_safe(lookaround_mod, "on_freelook_changed", function(value)
        use_3p_freelook_node = value and cached_settings.use_lookaround_node
    end)
end

-- –í evaluate_camera_tree:
if use_3p_freelook_node then
    node = "pspv_lookaround"
else
    node = nonaim_node
end
```
- –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –Ω–∞ –Ω–æ–¥—É `pspv_lookaround` –ø—Ä–∏ —Å–≤–æ–±–æ–¥–Ω–æ–º –æ–±–∑–æ—Ä–µ
- –¢—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –º–æ–¥ **LookAround**
- `false` = –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—É—é –Ω–æ–¥—É –¥–∞–∂–µ –ø—Ä–∏ —Å–≤–æ–±–æ–¥–Ω–æ–º –æ–±–∑–æ—Ä–µ

---

## –ì—Ä—É–ø–ø–∞: –ö–∞—Å—Ç–æ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–µ—Ä—ã

–≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ç–æ—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –∫–∞–º–µ—Ä—ã. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–Ω–æ–∂–∏—Ç–µ–ª—å `CUSTOM_MULT = 0.75`.

### `custom_distance` (numeric)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0.0`  
**–î–∏–∞–ø–∞–∑–æ–Ω:** `-1.0 - 1.0`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –∫–∞–º–µ—Ä—ã –æ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–≤–ø–µ—Ä—ë–¥/–Ω–∞–∑–∞–¥) –¥–ª—è –ª—é–¥–µ–π.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑: mod.apply_custom_viewpoint()
-- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: +y = –≤–ø–µ—Ä–µ–¥, -y = –Ω–∞–∑–∞–¥
local distance = mod:get("custom_distance") * CUSTOM_MULT
-- –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –±–∞–∑–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏ –∫–∞–º–µ—Ä—ã
```
- –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = –∫–∞–º–µ—Ä–∞ –±–ª–∏–∂–µ –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂—É
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = –∫–∞–º–µ—Ä–∞ –¥–∞–ª—å—à–µ –æ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- –ú–Ω–æ–∂–∏—Ç–µ–ª—å `0.75` —Å–º—è–≥—á–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

### `custom_offset` (numeric)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0.0`  
**–î–∏–∞–ø–∞–∑–æ–Ω:** `-1.0 - 1.0`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë–æ–∫–æ–≤–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã (–≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ) –¥–ª—è –ª—é–¥–µ–π.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
// –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: +x = –≤–ø—Ä–∞–≤–æ, -x = –≤–ª–µ–≤–æ
local offset = mod:get("custom_offset") * CUSTOM_MULT
```
- –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = —Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = —Å–¥–≤–∏–≥ –≤–ª–µ–≤–æ

### `custom_distance_zoom` (numeric)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0.0`  
**–î–∏–∞–ø–∞–∑–æ–Ω:** `-1.0 - 1.0`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –∫–∞–º–µ—Ä—ã –ø—Ä–∏ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–∏ –¥–ª—è –ª—é–¥–µ–π.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –Ω–æ–¥–∞–º —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º "_zoom"
// –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è
```
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç `custom_distance`
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `alternate_fire_is_active = true`

### `custom_offset_zoom` (numeric)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0.0`  
**–î–∏–∞–ø–∞–∑–æ–Ω:** `-1.0 - 1.0`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë–æ–∫–æ–≤–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã –ø—Ä–∏ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–∏ –¥–ª—è –ª—é–¥–µ–π.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
-- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ custom_offset, –Ω–æ –¥–ª—è —Ä–µ–∂–∏–º–∞ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è
```

### `custom_distance_ogryn` (numeric)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0.0`  
**–î–∏–∞–ø–∞–∑–æ–Ω:** `-1.0 - 1.0`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –∫–∞–º–µ—Ä—ã –¥–ª—è –æ–≥—Ä–∏–Ω–æ–≤.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:**
```lua
// –û—Ç–¥–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ–≥—Ä–∏–Ω–æ–≤ –∏–∑-–∑–∞ –∏—Ö –±–æ–ª—å—à–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
if is_ogryn then
    node = node .. "_ogryn"
    // –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è _ogryn –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
end
```
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –∞—Ä—Ö–µ—Ç–∏–ø–∞ –û–≥—Ä–∏–Ω
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ª—é–¥–µ–π

### `custom_offset_ogryn` (numeric)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0.0`  
**–î–∏–∞–ø–∞–∑–æ–Ω:** `-1.0 - 1.0`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë–æ–∫–æ–≤–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã –¥–ª—è –æ–≥—Ä–∏–Ω–æ–≤.

---

## –ì—Ä—É–ø–ø–∞: –ê–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ (Autoswitch)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤–∏–¥ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö. –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–º–µ—é—Ç 3 –æ–ø—Ü–∏–∏:

**–û–ø—Ü–∏–∏:**
- `0` - **None**: –ù–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å
- `1` - **To First Person**: –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤ –ø–µ—Ä–≤–æ–µ –ª–∏—Ü–æ
- `2` - **To Third Person**: –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤ —Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ autoswitch:**
```lua
// –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è lookup-—Ç–∞–±–ª–∏—Ü–∞:
autoswitch_events = {
    ["spectate"] = 2,
    ["slot_device"] = 1,
    ["slot_primary"] = 0,
    // ... –∏ —Ç.–¥.
}

// –ü—Ä–∏ —Å–æ–±—ã—Ç–∏–∏:
local _autoswitch_from_event = function(reason, event, condition)
    local autoswitch_mode = autoswitch_events[event]
    return mod.mux_3p_due_to(reason, autoswitch_mode == 2, autoswitch_mode == 1)
end
```
- `0`: –£–¥–∞–ª—è–µ—Ç reason (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ)
- `1`: –î–æ–±–∞–≤–ª—è–µ—Ç disable reason (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ 1P)
- `2`: –î–æ–±–∞–≤–ª—è–µ—Ç enable reason (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ 3P)

### –°–æ–±—ã—Ç–∏—è —Å–ª–æ—Ç–æ–≤ –æ—Ä—É–∂–∏—è/–ø—Ä–µ–¥–º–µ—Ç–æ–≤

#### `autoswitch_slot_device` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `1` (To First Person)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—Å–∫–∞–Ω–µ—Ä—ã, –≤–∑—Ä—ã–≤—á–∞—Ç–∫–∞, etc).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```lua
// –•—É–∫: PlayerUnitWeaponExtension.on_slot_wielded
_autoswitch_from_event("slot", "slot_device")
```
- –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ `slot_name == "slot_device"`

#### `autoswitch_slot_primary` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∞–Ω–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ—Ä—É–∂–∏—è.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```lua
_autoswitch_from_event("slot", "slot_primary")
holding_primary = true
```

#### `autoswitch_slot_secondary` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∞–Ω–∏–∏ –≤—Ç–æ—Ä–∏—á–Ω–æ–≥–æ –æ—Ä—É–∂–∏—è.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```lua
_autoswitch_from_event("slot", "slot_secondary")
holding_secondary = true
```

#### `autoswitch_slot_grenade_ability` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≥—Ä–∞–Ω–∞—Ç –∏–ª–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```lua
_autoswitch_from_event("slot", "slot_grenade_ability")
```

#### `autoswitch_slot_pocketable` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –≤–∑—è—Ç–∏–∏ –∫–∞—Ä–º–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (–º–µ–¥–ø–∞–∫, –±–æ–ª—å—à–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```lua
_autoswitch_from_event("slot", "slot_pocketable")
```

#### `autoswitch_slot_pocketable_small` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –≤–∑—è—Ç–∏–∏ –º–∞–ª—ã—Ö –∫–∞—Ä–º–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (–≥—Ä–∏–º—É–∞—Ä, —Å–∫—Ä–∏–ø—Ç—É—Ä–∞).

#### `autoswitch_slot_luggable` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –Ω–æ—à–µ–Ω–∏–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–±–∞—Ç–∞—Ä–µ—è, –±–æ—á–∫–∞).

#### `autoswitch_slot_unarmed` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–≥–¥–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂ –±–µ–∑–æ—Ä—É–∂–µ–Ω.

### –°–æ–±—ã—Ç–∏—è –¥–≤–∏–∂–µ–Ω–∏—è

#### `autoswitch_sprint` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–ø—Ä–∏–Ω—Ç–µ.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```lua
// –•—É–∫ –≤: PlayerUnitCameraExtension._evaluate_camera_tree
if wants_sprint_camera then
    _autoswitch_from_event("movt", "sprint")
end
```
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `sprint_character_state_component.wants_sprint_camera`
- Reason: `"movt"` (movement)

#### `autoswitch_lunge_ogryn` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Ä—ã–≤–∫–µ –æ–≥—Ä–∏–Ω–∞ (–±—ã–∫-–æ–≥—Ä–∏–Ω).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```lua
if is_lunging and is_ogryn then
    _autoswitch_from_event("movt", "lunge_ogryn")
end
```
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `lunge_character_state_component.is_lunging`
- –¢–æ–ª—å–∫–æ –¥–ª—è –æ–≥—Ä–∏–Ω–æ–≤

#### `autoswitch_lunge_human` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Ä—ã–≤–∫–µ —á–µ–ª–æ–≤–µ–∫–∞.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```lua
if is_lunging and not is_ogryn then
    _autoswitch_from_event("movt", "lunge_human")
end
```

### –°–æ–±—ã—Ç–∏—è –æ—Å–æ–±—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

#### `autoswitch_act2_primary` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∂–∞—Ç–∏–∏ –æ—Å–æ–±–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ—Ä—É–∂–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å–∫—Ä—É—Ç–∫–∞ –ø—É–ª–µ–º—ë—Ç–∞).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```lua
// –•—É–∫: InputService._get –∏ _get_simulate
if action_name == "action_two_hold" and holding_primary then
    _autoswitch_from_event("act2", "act2_primary", val)
end
```
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç `action_two_hold` (–æ–±—ã—á–Ω–æ –ü–ö–ú –∏–ª–∏ —Å–ø–µ—Ü. –∫–Ω–æ–ø–∫–∞)
- Reason: `"act2"` (action two)
- `val` = —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–¥–µ—Ä–∂–∞–Ω–∏—è

#### `autoswitch_act2_secondary` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `0` (None)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∂–∞—Ç–∏–∏ –æ—Å–æ–±–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –≤—Ç–æ—Ä–∏—á–Ω–æ–≥–æ –æ—Ä—É–∂–∏—è.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```lua
if action_name == "action_two_hold" and holding_secondary then
    _autoswitch_from_event("act2", "act2_secondary", val)
end
```

### –†–µ–∂–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è

#### `autoswitch_spectate` (dropdown)
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `2` (To Third Person)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Ä–µ–∂–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –¥—Ä—É–≥–∏–º –∏–≥—Ä–æ–∫–æ–º.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```lua
// –•—É–∫: CameraHandler._switch_follow_target
is_spectating = new_unit ~= self._player.player_unit
_autoswitch_from_event("spectate", "spectate", is_spectating)

// –í is_requesting_third_person():
if is_spectating then
    enable = not not (enable_reasons["_base"] or enable_reasons["spectate"])
    disable = disable_reasons["_base"] or disable_reasons["spectate"]
end
```
- Reason: `"spectate"`
- –ò–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–∏ (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ)

---

## –°–∏—Å—Ç–µ–º–∞ Reasons (–ü—Ä–∏—á–∏–Ω)

–ú–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É "reasons" –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º 3P —Ä–µ–∂–∏–º–∞:

### Enable Reasons (–ü—Ä–∏—á–∏–Ω—ã –≤–∫–ª—é—á–µ–Ω–∏—è 3P)
```lua
enable_reasons = {
    ["_base"] = true,      // –±–∞–∑–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (toggle/default_mode)
    ["spectate"] = true,   // —Ä–µ–∂–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
    ["slot"] = true,       // autoswitch –æ—Ç —Å–ª–æ—Ç–∞
    ["movt"] = true,       // autoswitch –æ—Ç –¥–≤–∏–∂–µ–Ω–∏—è
    ["act2"] = true,       // autoswitch –æ—Ç –æ—Å–æ–±–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
}
```

### Disable Reasons (–ü—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–ª—é—á–µ–Ω–∏—è 3P)
```lua
disable_reasons = {
    ["_mod"] = true,       // allow_switching = false
    ["aim"] = true,        // aim_mode = 1P –∏–ª–∏ center_to_1p_*
    ["slot"] = true,       // autoswitch = 1 (to 1P)
    ["movt"] = true,
    ["act2"] = true,
    ["_unload"] = true,    // –ø—Ä–∏ –≤—ã–≥—Ä—É–∑–∫–µ –º–æ–¥–∞
}
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
```lua
mod.is_requesting_third_person = function()
    local enable = _has_enable_reason()
    local disable = _has_disable_reason()
    return enable and not disable  // disable –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
end
```

**Disable –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ Enable!**

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤ Redux –≤–µ—Ä—Å–∏–∏

1. **–°—á—ë—Ç—á–∏–∫–∏ reasons** (O(1) –≤–º–µ—Å—Ç–æ O(n)):
```lua
enable_reasons_count = 0
disable_reasons_count = 0

local _has_enable_reason = function()
    return enable_reasons_count > 0  // –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
end
```

2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫**:
```lua
cached_settings = {
    aim_selection = 0,
    nonaim_selection = 0,
    // ... –∏ —Ç.–¥.
}
// –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ on_setting_changed
```

3. **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ autoswitch**:
```lua
// –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
autoswitch_events = {
    ["spectate"] = 2,
    ["slot_device"] = 1,
    // ... –≤—Å–µ —Å–æ–±—ã—Ç–∏—è
}
// –í –≥–æ—Ä—è—á–µ–º –ø—É—Ç–∏: O(1) –¥–æ—Å—Ç—É–ø –±–µ–∑ string –æ–ø–µ—Ä–∞—Ü–∏–π
```

4. **–û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**:
```lua
is_initialized = false
// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥–∞–º–∏

### LookAround
```lua
use_3p_freelook_node = value and cached_settings.use_lookaround_node
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –Ω–æ–¥—É "pspv_lookaround"
```

### camera_freeflight
```lua
mod:hook(freeflight_mod, "set_3p", function(func, self, enabled)
    func(self, enabled or mod.is_requesting_third_person())
end)
// –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ 3P
```

### crosshair_remap
- –°–æ–≤–º–µ—Å—Ç–∏–º —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É `xhair_fallback`

---

## –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–∞–º–µ—Ä—ã

```
+x = –ø—Ä–∞–≤–æ
-x = –ª–µ–≤–æ
+y = –≤–ø–µ—Ä—ë–¥ (–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂—É)
-y = –Ω–∞–∑–∞–¥ (–æ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞)
+z = –≤–≤–µ—Ä—Ö
-z = –≤–Ω–∏–∑
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- `custom_distance = 0.5` ‚Üí –∫–∞–º–µ—Ä–∞ –±–ª–∏–∂–µ –Ω–∞ 0.375 –µ–¥–∏–Ω–∏—Ü (0.5 * 0.75)
- `custom_offset = -0.5` ‚Üí –∫–∞–º–µ—Ä–∞ —Å–¥–≤–∏–Ω—É—Ç–∞ –≤–ª–µ–≤–æ –Ω–∞ 0.375 –µ–¥–∏–Ω–∏—Ü

---

## –ù–æ–¥—ã –∫–∞–º–µ—Ä—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–æ–¥—ã:
- `pspv_right` - –ø—Ä–∞–≤–æ–µ –ø–ª–µ—á–æ
- `pspv_left` - –ª–µ–≤–æ–µ –ø–ª–µ—á–æ
- `pspv_center` - —Ü–µ–Ω—Ç—Ä

### –° –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–µ–º (zoom):
- `pspv_right_zoom`
- `pspv_left_zoom`
- `pspv_center_zoom`

### –î–ª—è –æ–≥—Ä–∏–Ω–æ–≤:
- `pspv_right_ogryn`
- `pspv_left_ogryn`
- `pspv_center_ogryn`
- `pspv_right_zoom_ogryn` (–∏ —Ç.–¥.)

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ:
- `pspv_lookaround` - —Å–≤–æ–±–æ–¥–Ω—ã–π –æ–±–∑–æ—Ä (LookAround –º–æ–¥)
- `first_person` - –ø–µ—Ä–≤–æ–µ –ª–∏—Ü–æ
- `third_person` - –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ —Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ –∏–≥—Ä—ã

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:
```lua
// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
original_transition_duration.to_third_person = CameraTransitionTemplates...
original_transition_duration.to_first_person = CameraTransitionTemplates...
```

### –ü—Ä–∏ –≤—ã–≥—Ä—É–∑–∫–µ:
```lua
mod.on_unload = function(quitting)
    mod.disable_3p_due_to("_unload", true)  // –æ—Ç–∫–ª—é—á–∞–µ–º 3P
    // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∫–∞–º–µ—Ä—ã
    // –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –∏ —Ç–∞–±–ª–∏—Ü reasons
    // –°–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–æ–≤
end
```

### –ó–∞—â–∏—Ç–∞ –æ—Ç –∫—Ä–∞—à:
```lua
local success, error_msg = pcall(function()
    if ScriptUnit.has_extension(unit, "first_person_system") then
        local ext = ScriptUnit.extension(unit, "first_person_system")
        if ext and type(ext._force_third_person_mode) ~= "nil" then
            ext._force_third_person_mode = mod.is_requesting_third_person()
        end
    end
end)

if not success then
    mod:error("Failed to apply perspective: %s", error_msg)
end
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è 3P –∑–∞ –ø—Ä–∞–≤—ã–º –ø–ª–µ—á–æ–º:
- `default_perspective_mode` = Always Third Person
- `aim_mode` = Right
- `nonaim_mode` = Right

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–ª–µ—á–∞:
- `default_perspective_mode` = Always Third Person
- `aim_mode` = Cycle
- `nonaim_mode` = Cycle
- `cycle_includes_center` = true
- –ù–∞–∑–Ω–∞—á–∏—Ç—å `cycle_shoulder` –Ω–∞ —É–¥–æ–±–Ω—É—é –∫–ª–∞–≤–∏—à—É

### –¢–æ–ª—å–∫–æ –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è:
- `default_perspective_mode` = Normal
- `autoswitch_spectate` = To Third Person
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ autoswitch = None

### –¢—Ä–µ—Ç—å–µ –ª–∏—Ü–æ –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è, –ø–µ—Ä–≤–æ–µ –¥–ª—è –±–æ—è:
- `default_perspective_mode` = Normal
- `autoswitch_sprint` = To Third Person
- `aim_mode` = 1st Person
- `autoswitch_slot_primary` = To First Person
- `autoswitch_slot_secondary` = To First Person

