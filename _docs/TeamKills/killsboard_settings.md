# KillStreakBoard Widget Settings

Полная документация всех настроек виджета KillStreakBoard из файла `WidgetSettings.lua`.

## Общие настройки

### `shading_environment`
- **Тип:** `string`
- **Значение:** `"content/shading_environments/ui/system_menu"`
- **Описание:** Путь к окружению затенения (shading environment) для UI. Определяет визуальное освещение и стиль отрисовки виджета.

### `killsboard_size`
- **Тип:** `table {width, height}`
- **Значение:** `{1000, 900}`
- **Описание:** Базовый размер виджета killsboard в пикселях. Ширина = 1000px, высота = 900px. Высота автоматически подстраивается под количество строк, но не может превышать `killsboard_max_height`.

### `killsboard_max_height`
- **Тип:** `number`
- **Значение:** `990`
- **Описание:** Максимально допустимая высота доски killsboard в пикселях. Если количество строк превышает эту высоту, контент будет обрезан или прокручиваться.

### `killsboard_min_height`
- **Тип:** `number`
- **Значение:** `200`
- **Описание:** Минимальная высота доски killsboard в пикселях. Гарантирует, что виджет всегда имеет минимальный размер, даже если данных мало.

### `killsboard_base_z`
- **Тип:** `number`
- **Значение:** `500`
- **Описание:** Z-координата (глубина) для отображения виджета. Чем больше значение, тем выше элемент в UI-стеке. Значение 500 гарантирует отображение поверх большинства других модов и UI-элементов.

---

## Настройки строк (Rows)

### `killsboard_row_height`
- **Тип:** `number`
- **Значение:** `16`
- **Описание:** Высота обычной строки данных в пикселях. Используется для строк с категориями врагов (например, "Poxwalker", "Renegade Gunner").

### `killsboard_row_header_height`
- **Тип:** `number`
- **Значение:** `22`
- **Описание:** Высота строк заголовков в пикселях. Используется для:
  - Заголовка с именами игроков
  - Заголовков групп (Bosses, Elites, Specials и т.д.)
  - Строки "Данные отсутствуют"

---

## Настройки столбцов (Columns)

### `killsboard_column_kills_width`
- **Тип:** `number`
- **Значение:** `60`
- **Описание:** Ширина столбца "K" (Kills - убийства) в пикселях для каждого игрока.

### `killsboard_column_damage_width`
- **Тип:** `number`
- **Значение:** `140`
- **Описание:** Ширина столбца "D" (Damage - урон) в пикселях для каждого игрока.

### `killsboard_column_player_width`
- **Тип:** `number`
- **Значение:** `200`
- **Описание:** Общая ширина пары столбцов K+D для одного игрока. **Должна равняться** `killsboard_column_kills_width + killsboard_column_damage_width` (60 + 140 = 200). Используется для позиционирования столбцов следующих игроков.

### `killsboard_column_player_bg_width`
- **Тип:** `number`
- **Значение:** `199`
- **Описание:** Ширина фонового блока под столбцами K+D одного игрока. Меньше на 1 пиксель чем `killsboard_column_player_width` для создания визуального отступа между игроками.

### `killsboard_column_header_width`
- **Тип:** `number`
- **Значение:** `200`
- **Описание:** Ширина первого столбца (столбца с названиями категорий) в пикселях.

---

## Настройки отступов и отображения

### `killsboard_category_text_offset`
- **Тип:** `number`
- **Значение:** `10`
- **Описание:** Горизонтальный отступ текста категории от левого края столбца в пикселях. Создает визуальный отступ для названий врагов.

### `killsboard_fade_length`
- **Тип:** `number`
- **Значение:** `0.1`
- **Описание:** Длительность анимации появления/исчезновения виджета в секундах. Используется для плавных переходов при показе/скрытии killsboard.

### `killsboard_rows_top_offset`
- **Тип:** `number`
- **Значение:** `0`
- **Описание:** Вертикальный отступ таблицы от верхнего края фона в пикселях. Позволяет добавить отступ сверху для визуального разделения.

### `killsboard_rows_bottom_offset`
- **Тип:** `number`
- **Значение:** `0`
- **Описание:** Вертикальный отступ таблицы от нижнего края фона в пикселях. Позволяет добавить отступ снизу для визуального разделения.

---

## Настройки шрифтов

### `killsboard_font_size`
- **Тип:** `number`
- **Значение:** `12`
- **Описание:** Размер шрифта для обычных строк с данными (категории врагов, убийства, урон) в пунктах.

### `killsboard_font_size_header`
- **Тип:** `number`
- **Значение:** `14`
- **Описание:** Размер шрифта для заголовков групп (Bosses, Elites и т.д.) и сообщения "Данные отсутствуют" в пунктах.

### `killsboard_font_size_player_names`
- **Тип:** `number`
- **Значение:** `16`
- **Описание:** Размер шрифта для имен игроков в верхней строке заголовка таблицы в пунктах. Самый крупный шрифт в таблице для лучшей читаемости имен.

---

## Настройки цветов строк

### `killsboard_row_color_dark_func`
- **Тип:** `function`
- **Значение:** `Color.terminal_grid_background`
- **Описание:** Функция цвета для темных (четных) строк таблицы. Используется для создания "зебры" (чередующихся цветов). Доступные функции: `Color.black`, `Color.terminal_grid_background`, `Color.terminal_frame`, `Color.white` и другие.

### `killsboard_row_color_light_func`
- **Тип:** `function`
- **Значение:** `Color.terminal_grid_background`
- **Описание:** Функция цвета для светлых (нечетных) строк таблицы. Используется для создания "зебры" (чередующихся цветов).

### `killsboard_row_color_dark_alpha`
- **Тип:** `number`
- **Значение:** `20`
- **Описание:** Альфа-канал (прозрачность) для темных строк. Диапазон: 0-255, где 0 = полностью прозрачный, 255 = полностью непрозрачный.

### `killsboard_row_color_light_alpha`
- **Тип:** `number`
- **Значение:** `40`
- **Описание:** Альфа-канал (прозрачность) для светлых строк. Больше чем `dark_alpha` для создания визуального контраста между строками.

### `killsboard_row_color_highlight_alpha`
- **Тип:** `number`
- **Значение:** `220`
- **Описание:** Альфа-канал (прозрачность) для подсветки строк с активными killstreak'ами. Высокое значение (220) делает подсветку очень заметной. Цвет подсветки: `Color.terminal_frame`.

---

## Настройки прозрачности фона разных типов строк

### `killsboard_header_bg_alpha`
- **Тип:** `number`
- **Значение:** `0`
- **Описание:** Альфа-канал для фона строки заголовка с именами игроков. 0 = полностью прозрачный фон.

### `killsboard_subheader_bg_alpha`
- **Тип:** `number`
- **Значение:** `0`
- **Описание:** Альфа-канал для фона строки подзаголовка "Kills / Damage". 0 = полностью прозрачный фон.

### `killsboard_total_bg_alpha`
- **Тип:** `number`
- **Значение:** `0`
- **Описание:** Альфа-канал для фона строки "TOTAL" (итоговая статистика). 0 = полностью прозрачный фон.

### `killsboard_group_header_bg_alpha`
- **Тип:** `number`
- **Значение:** `0`
- **Описание:** Альфа-канал для фона заголовков групп врагов (Bosses, Elites, Specials, Disablers и т.д.). 0 = полностью прозрачный фон.

### `killsboard_spacer_bg_alpha`
- **Тип:** `number`
- **Значение:** `0`
- **Описание:** Альфа-канал для фона пустых строк-разделителей. 0 = полностью прозрачный (невидимый).

---

## Настройки общего фона

### `killsboard_background_alpha`
- **Тип:** `number`
- **Значение:** `220`
- **Описание:** Альфа-канал для черной подложки (фона) всего виджета killsboard. Высокое значение (220) делает фон почти непрозрачным для хорошей читаемости текста.

### `killsboard_background_width_offset`
- **Тип:** `number`
- **Значение:** `10`
- **Описание:** Уменьшение ширины подложки в пикселях с каждой стороны. Итоговое уменьшение = `offset * 4` (по 10px слева, справа, сверху, снизу = -40px от общей ширины). Создает визуальную рамку.

---

## Настройки отображения данных

### `killsboard_show_empty_categories`
- **Тип:** `boolean`
- **Значение:** `false`
- **Описание:** 
  - `true` - показывать все категории врагов, даже если по ним нет данных (0 убийств и 0 урона)
  - `false` - показывать только категории, по которым есть данные (хотя бы 1 убийство или урон > 0)

---

## Настройки текста категорий (первый столбец)

### `killsboard_category_text_horizontal_alignment`
- **Тип:** `string`
- **Значение:** `"left"`
- **Описание:** Горизонтальное выравнивание текста категории. Возможные значения: `"left"`, `"center"`, `"right"`.

### `killsboard_category_text_vertical_alignment`
- **Тип:** `string`
- **Значение:** `"center"`
- **Описание:** Вертикальное выравнивание текста категории. Возможные значения: `"top"`, `"center"`, `"bottom"`.

### `killsboard_category_text_color_alpha`
- **Тип:** `number`
- **Значение:** `255`
- **Описание:** Альфа-канал для цвета текста категории при использовании `Color.terminal_text_header`. 255 = полностью непрозрачный.

### `killsboard_category_text_color_use_terminal`
- **Тип:** `boolean`
- **Значение:** `true`
- **Описание:**
  - `true` - использовать terminal-стиль цвета (`Color.terminal_text_header`) для текста категорий
  - `false` - использовать белый цвет (`Color.white`)

### `killsboard_category_text_white_alpha`
- **Тип:** `number`
- **Значение:** `200`
- **Описание:** Альфа-канал для белого цвета текста категории (`Color.white`), если `killsboard_category_text_color_use_terminal = false`.

---

## Настройки текста столбцов K и D

### `killsboard_column_text_horizontal_alignment`
- **Тип:** `string`
- **Значение:** `"center"`
- **Описание:** Горизонтальное выравнивание текста в столбцах убийств (K) и урона (D). `"center"` центрирует числа в столбцах.

### `killsboard_column_text_vertical_alignment`
- **Тип:** `string`
- **Значение:** `"center"`
- **Описание:** Вертикальное выравнивание текста в столбцах убийств (K) и урона (D). `"center"` центрирует числа вертикально в строке.

### `killsboard_column_text_color_alpha`
- **Тип:** `number`
- **Значение:** `255`
- **Описание:** Альфа-канал для цвета текста в столбцах K и D при использовании `Color.terminal_text_header`. 255 = полностью непрозрачный.

### `killsboard_column_text_color_use_terminal`
- **Тип:** `boolean`
- **Значение:** `true`
- **Описание:**
  - `true` - использовать terminal-стиль цвета (`Color.terminal_text_header`) для чисел в столбцах K и D
  - `false` - использовать белый цвет (`Color.white`)

### `killsboard_column_text_white_alpha`
- **Тип:** `number`
- **Значение:** `200`
- **Описание:** Альфа-канал для белого цвета текста в столбцах K и D (`Color.white`), если `killsboard_column_text_color_use_terminal = false`.

---

## Настройки текста "Данные отсутствуют"

### `killsboard_no_data_text_horizontal_alignment`
- **Тип:** `string`
- **Значение:** `"center"`
- **Описание:** Горизонтальное выравнивание сообщения "Данные отсутствуют". `"center"` центрирует текст по ширине виджета.

### `killsboard_no_data_text_vertical_alignment`
- **Тип:** `string`
- **Значение:** `"center"`
- **Описание:** Вертикальное выравнивание сообщения "Данные отсутствуют". `"center"` центрирует текст вертикально.

### `killsboard_no_data_text_offset`
- **Тип:** `number`
- **Значение:** `10`
- **Описание:** Горизонтальный отступ текста "Данные отсутствуют" от левого края в пикселях. Используется совместно с `left_offset` для точного позиционирования.

### `killsboard_no_data_text_color_func`
- **Тип:** `function`
- **Значение:** `Color.terminal_text_body_sub_header`
- **Описание:** Функция цвета для текста "Данные отсутствуют". `terminal_text_body_sub_header` придает тексту приглушенный, менее заметный вид.

### `killsboard_no_data_text_color_alpha`
- **Тип:** `number`
- **Значение:** `255`
- **Описание:** Альфа-канал для цвета текста "Данные отсутствуют". 255 = полностью непрозрачный.

---

## Примеры использования настроек

### Изменение высоты строк
```lua
killsboard_row_height = 20  -- увеличить высоту обычных строк
killsboard_row_header_height = 30  -- увеличить высоту заголовков
```

### Изменение ширины столбцов
```lua
killsboard_column_kills_width = 80  -- увеличить столбец убийств
killsboard_column_damage_width = 160  -- увеличить столбец урона
killsboard_column_player_width = 240  -- ВАЖНО: обновить общую ширину (80 + 160)
killsboard_column_player_bg_width = 239  -- обновить ширину фона (240 - 1)
```

### Создание более заметной "зебры" строк
```lua
killsboard_row_color_dark_alpha = 10  -- темнее
killsboard_row_color_light_alpha = 60  -- светлее
```

### Изменение прозрачности фона
```lua
killsboard_background_alpha = 150  -- более прозрачный фон
killsboard_background_alpha = 255  -- полностью непрозрачный фон
```

### Показать все категории врагов (включая с 0 данных)
```lua
killsboard_show_empty_categories = true
```

### Изменение размера шрифтов
```lua
killsboard_font_size = 14  -- увеличить шрифт для обычных строк
killsboard_font_size_header = 16  -- увеличить шрифт для заголовков
killsboard_font_size_player_names = 18  -- увеличить шрифт для имен игроков
```

---

## Связанные файлы

- **Основной файл настроек:** `scripts/mods/TeamKills/KillStreakBoard/WidgetSettings.lua`
- **Чертежи виджетов:** `scripts/mods/TeamKills/KillStreakBoard/WidgetBlueprints.lua`
- **Логика виджета:** `scripts/mods/TeamKills/KillStreakBoard/Widget.lua`
- **View для EndView:** `scripts/mods/TeamKills/KillStreakBoard/View.lua`
- **Tactical Overlay:** `scripts/mods/TeamKills/KillStreakBoard/TacticalOverlay.lua`

